@page "/Main"
@inject HttpClient http
@inject NavigationManager NavigationManager
@inject SixRens.UI.Blazor.Services.SixRens.ServiceOfSixRens sixRens
@inject SixRens.UI.Blazor.Services.DivinationCaseStorager.DivinationCaseStorager storager
@layout MainLayout

<p> @CaseName </p>
<PageTitle>六壬</PageTitle>
<div class="main">
	<Calendar/>
	<SanZhuan/>
</div>
<TianPan/>


@inject SixRens.UI.Blazor.Services.DivinationCaseStorager.DivinationCaseStorager storager
@code 
{
	[CascadingParameter]
	private string? CaseName { get; set; }

	private string? currentCaseName;
	private 占例? currentCase;

	private async Task<占例?> GetCase()
	{
		if (CaseName is null)
			return null;
		currentCase = await storager.GetCase(CaseName);
		return currentCase;
	}
}